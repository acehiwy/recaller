"use strict";(self.webpackChunkwoof=self.webpackChunkwoof||[]).push([[575],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>d});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var i=r.createContext({}),u=function(e){var t=r.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},p=function(e){var t=u(e.components);return r.createElement(i.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,i=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),m=u(n),d=a,h=m["".concat(i,".").concat(d)]||m[d]||c[d]||o;return n?r.createElement(h,l(l({ref:t},p),{},{components:n})):r.createElement(h,l({ref:t},p))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,l=new Array(o);l[0]=m;var s={};for(var i in t)hasOwnProperty.call(t,i)&&(s[i]=t[i]);s.originalType=e,s.mdxType="string"==typeof e?e:a,l[1]=s;for(var u=2;u<o;u++)l[u]=n[u];return r.createElement.apply(null,l)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},8196:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>i,contentTitle:()=>l,default:()=>g,frontMatter:()=>o,metadata:()=>s,toc:()=>u});var r=n(7462),a=(n(7294),n(3905));const o={description:"What is the MDX plugins? Remark / Rehype plugin what are they and how are they different? How to create your own plugin?",sidebar_position:8e3,tags:["docusaurus"]},l="MDX Plugins",s={unversionedId:"framework/docusaurus/markdown-features/mdx-plugins",id:"framework/docusaurus/markdown-features/mdx-plugins",title:"MDX Plugins",description:"What is the MDX plugins? Remark / Rehype plugin what are they and how are they different? How to create your own plugin?",source:"@site/docs/framework/docusaurus/markdown-features/mdx-plugins.mdx",sourceDirName:"framework/docusaurus/markdown-features",slug:"/framework/docusaurus/markdown-features/mdx-plugins",permalink:"/woof/docs/framework/docusaurus/markdown-features/mdx-plugins",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/framework/docusaurus/markdown-features/mdx-plugins.mdx",tags:[{label:"docusaurus",permalink:"/woof/docs/tags/docusaurus"}],version:"current",sidebarPosition:8e3,frontMatter:{description:"What is the MDX plugins? Remark / Rehype plugin what are they and how are they different? How to create your own plugin?",sidebar_position:8e3,tags:["docusaurus"]},sidebar:"default",previous:{title:"Admonitions",permalink:"/woof/docs/framework/docusaurus/markdown-features/admonitions"},next:{title:"Styling and Layout",permalink:"/woof/docs/framework/docusaurus/styling-and-layout"}},i={},u=[{value:'<Color color="var(--not-require-but-good-to-know-font-color)"> Default plugins </Color>',id:"-default-plugins-",level:2},{value:"Installing plugins",id:"installing-plugins",level:2},{value:"Configuring plugins",id:"configuring-plugins",level:2},{value:'<Color color="var(--not-nesary-for-now-future-font-color)"> Creating new rehype/remark plugins </Color>',id:"-creating-new-rehyperemark-plugins-",level:2}],p=e=>function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,a.kt)("div",t)},c=p("Color"),m=p("Admonition"),d=p("Tabs"),h=p("TabItem"),k={toc:u};function g(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,r.Z)({},k,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"mdx-plugins"},"MDX Plugins"),(0,a.kt)("p",null,"Sometimes, you may want to extend or tweak your Markdown syntax."),(0,a.kt)("p",null,"For example:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"How do I embed youtube videos using the image syntax (",(0,a.kt)("inlineCode",{parentName:"li"},"![](https://youtu.be/yKNxeF4KMsY)"),")?"),(0,a.kt)("li",{parentName:"ul"},"How do I style links that are on their own lines differently, e.g., as a social card?"),(0,a.kt)("li",{parentName:"ul"},"How do I make every page start with a copyright notice?")),(0,a.kt)("p",null,"And the answer is: create an MDX plugin!"),(0,a.kt)("p",null,"MDX has a built-in ",(0,a.kt)("a",{parentName:"p",href:"https://mdxjs.com/advanced/plugins/"},"plugin system")," that can be used to customize how the Markdown files will be parsed and transformed to JSX."),(0,a.kt)("p",null,"There are three typical use-cases of MDX plugins:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Using existing ",(0,a.kt)("a",{parentName:"li",href:"https://github.com/remarkjs/remark/blob/main/doc/plugins.md#list-of-plugins"},"remark plugins")," or ",(0,a.kt)("a",{parentName:"li",href:"https://github.com/rehypejs/rehype/blob/main/doc/plugins.md#list-of-plugins"},"rehype plugins")),(0,a.kt)("li",{parentName:"ul"},"Creating remark/rehype plugins to ",(0,a.kt)(c,{color:"var(--secondary-font-color)",mdxType:"Color"}," transform the elements ")," generated by existing MDX syntax;"),(0,a.kt)("li",{parentName:"ul"},"Creating remark/rehype plugins to ",(0,a.kt)(c,{color:"var(--secondary-font-color)",mdxType:"Color"}," introduce new syntaxes ")," to MDX.")),(0,a.kt)("p",null,"If you play with the ",(0,a.kt)("a",{parentName:"p",href:"https://mdx-git-renovate-babel-monorepo-mdx.vercel.app/playground"},"MDX playground"),",\nyou would notice that the MDX transpilation has two intermediate steps: Markdown AST (MDAST), and Hypertext AST (HAST), before arriving at the final JSX output."),(0,a.kt)("p",null,"MDX plugins also come in two forms:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Remark: processes the Markdown AST."),(0,a.kt)("li",{parentName:"ul"},"Rehype: processes the Hypertext AST.")),(0,a.kt)(m,{type:"info",title:"info",mdxType:"Admonition"},(0,a.kt)("p",null,"Use plugins to introduce shorter syntax for the most commonly used JSX elements in your project."),(0,a.kt)("p",null,"The admonition syntax that we offer is also generated by a Remark plugin, and you could do the same for your own use case.")),(0,a.kt)("h2",{id:"-default-plugins-"},(0,a.kt)(c,{color:"var(--not-require-but-good-to-know-font-color)",mdxType:"Color"}," Default plugins ")),(0,a.kt)("p",null,"Docusaurus injects some default Remark plugins during Markdown processing."),(0,a.kt)("p",null,"These plugins would:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Generate the table of contents;"),(0,a.kt)("li",{parentName:"ul"},"Add anchor links to each heading;"),(0,a.kt)("li",{parentName:"ul"},"Transform images and links to require() calls."),(0,a.kt)("li",{parentName:"ul"},"...")),(0,a.kt)("h2",{id:"installing-plugins"},"Installing plugins"),(0,a.kt)("p",null,"An MDX plugin is usually an npm package, so you install them like other npm packages using npm."),(0,a.kt)("p",null,"Take the ",(0,a.kt)("a",{parentName:"p",href:"https://docusaurus.io/docs/markdown-features/math-equations"},"math plugins")," as an example."),(0,a.kt)(d,{mdxType:"Tabs"},(0,a.kt)(h,{value:"npm",label:"npm",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash",metastring:"title=",title:""},"npm install --save remark-math@3 rehype-katex@4\n"))),(0,a.kt)(h,{value:"yarn",label:"yarn",mdxType:"TabItem"},(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash",metastring:"title=",title:""},"yarn add remark-math@3 rehype-katex@4\n")))),(0,a.kt)("details",null,(0,a.kt)("summary",null,"How are ",(0,a.kt)("code",null,"remark-math")," and ",(0,a.kt)("code",null,"rehype-katex")," different?"),(0,a.kt)("p",null,"In case you are wondering how Remark and Rehype are different, here is a good example."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"remark-math")," operates on the Markdown AST, where it sees text like ",(0,a.kt)("inlineCode",{parentName:"p"},"$...$"),", and all it does is",(0,a.kt)(c,{color:"var(--secondary-font-color)",mdxType:"Color"}," transform that to the JSX ")," ",(0,a.kt)("inlineCode",{parentName:"p"},'<span class="math math-inline">...</span>')," without doing too much with the content.\nThis decouples the extraction of math formulae from their rendering, which means you can swap $\\KaTeX$ out with other math renderers, like MathJax (with ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/remarkjs/remark-math/tree/main/packages/rehype-mathjax"},(0,a.kt)("inlineCode",{parentName:"a"},"rehype-mathjax")),"), just by replacing the Rehype plugin."),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"rehype-katex")," operates on the Hypertext AST where everything ",(0,a.kt)(c,{color:"var(--secondary-font-color)",mdxType:"Color"}," has been converted ")," to ",(0,a.kt)(c,{color:"var(--secondary-font-color)",mdxType:"Color"}," HTML-like ")," tags ",(0,a.kt)(c,{color:"var(--primary-font-color)",mdxType:"Color"}," already "),".\nIt traverses all the elements with ",(0,a.kt)("inlineCode",{parentName:"p"},"math")," class and uses $\\KaTeX$ to ",(0,a.kt)(c,{color:"var(--secondary-font-color)",mdxType:"Color"}," parse and render ")," the content to ",(0,a.kt)(c,{color:"var(--secondary-font-color)",mdxType:"Color"}," actual HTML "),".")),(0,a.kt)(m,{type:"caution",title:"caution",mdxType:"Admonition"},(0,a.kt)("p",null,"There's recently a trend in the Remark/Rehype ecosystem to migrate to ES Modules, a new JavaScript module system, which Docusaurus ",(0,a.kt)(c,{color:"var(--primary-font-color)",mdxType:"Color"}," doesn't support yet "),"."),(0,a.kt)("p",null,"Please make sure your installed plugin version is CommonJS-compatible before we officially support ESM.")),(0,a.kt)("p",null,"Next, add them to the plugin options through plugin or preset config in ",(0,a.kt)("inlineCode",{parentName:"p"},"docusaurus.config.js"),":"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript",metastring:"title=docusaurus.config.js showLineNumbers",title:"docusaurus.config.js",showLineNumbers:!0},'const math = require("remark-math");\nconst katex = require("rehype-katex");\n\nmodule.exports = {\n  title: "Docusaurus",\n  tagline: "Build optimized websites quickly, focus on your content",\n  presets: [\n    [\n      "@docusaurus/preset-classic",\n      {\n        docs: {\n          // highlight-next-line\n          remarkPlugins: [math],\n          // highlight-next-line\n          rehypePlugins: [katex],\n        },\n      },\n    ],\n  ],\n};\n')),(0,a.kt)("h2",{id:"configuring-plugins"},"Configuring plugins"),(0,a.kt)("p",null,"Some plugins can be configured and accept their own options. In that case, use the ",(0,a.kt)("inlineCode",{parentName:"p"},"[plugin, pluginOptions]")," syntax, like this:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript",metastring:"title=docusaurus.config.js showLineNumbers",title:"docusaurus.config.js",showLineNumbers:!0},'module.exports = {\n  presets: [\n    [\n      "@docusaurus/preset-classic",\n      {\n        docs: {\n          remarkPlugins: [math],\n          rehypePlugins: [[katex, { strict: false }]],\n        },\n      },\n    ],\n  ],\n};\n')),(0,a.kt)("p",null,"You should check your plugin's documentation for the options it supports."),(0,a.kt)("h2",{id:"-creating-new-rehyperemark-plugins-"},(0,a.kt)(c,{color:"var(--not-nesary-for-now-future-font-color)",mdxType:"Color"}," Creating new rehype/remark plugins ")),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://docusaurus.io/docs/markdown-features/plugins#creating-new-rehyperemark-plugins"},"https://docusaurus.io/docs/markdown-features/plugins#creating-new-rehyperemark-plugins")),(0,a.kt)("br",null),(0,a.kt)("hr",null),(0,a.kt)("h1",{id:"sources"},"Sources"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://docusaurus.io/docs/markdown-features/plugins"},"https://docusaurus.io/docs/markdown-features/plugins"))))}g.isMDXComponent=!0}}]);