"use strict";(self.webpackChunkrecaller=self.webpackChunkrecaller||[]).push([[6111],{3905:(e,a,t)=>{t.d(a,{Zo:()=>m,kt:()=>d});var n=t(7294);function s(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function r(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function o(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?r(Object(t),!0).forEach((function(a){s(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function p(e,a){if(null==e)return{};var t,n,s=function(e,a){if(null==e)return{};var t,n,s={},r=Object.keys(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||(s[t]=e[t]);return s}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(s[t]=e[t])}return s}var l=n.createContext({}),i=function(e){var a=n.useContext(l),t=a;return e&&(t="function"==typeof e?e(a):o(o({},a),e)),t},m=function(e){var a=i(e.components);return n.createElement(l.Provider,{value:a},e.children)},u={inlineCode:"code",wrapper:function(e){var a=e.children;return n.createElement(n.Fragment,{},a)}},c=n.forwardRef((function(e,a){var t=e.components,s=e.mdxType,r=e.originalType,l=e.parentName,m=p(e,["components","mdxType","originalType","parentName"]),c=i(t),d=s,k=c["".concat(l,".").concat(d)]||c[d]||u[d]||r;return t?n.createElement(k,o(o({ref:a},m),{},{components:t})):n.createElement(k,o({ref:a},m))}));function d(e,a){var t=arguments,s=a&&a.mdxType;if("string"==typeof e||s){var r=t.length,o=new Array(r);o[0]=c;var p={};for(var l in a)hasOwnProperty.call(a,l)&&(p[l]=a[l]);p.originalType=e,p.mdxType="string"==typeof e?e:s,o[1]=p;for(var i=2;i<r;i++)o[i]=t[i];return n.createElement.apply(null,o)}return n.createElement.apply(null,t)}c.displayName="MDXCreateElement"},4778:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>l,contentTitle:()=>o,default:()=>g,frontMatter:()=>r,metadata:()=>p,toc:()=>i});var n=t(7462),s=(t(7294),t(3905));const r={description:"What is the MDX plugins? Remark / Rehype plugin what are they and how are they different? How to create your own plugin?",sidebar_position:8e3,tags:["docusaurus"]},o="MDX Plugins",p={unversionedId:"framework/docusaurus/markdown-features/mdx-plugins",id:"framework/docusaurus/markdown-features/mdx-plugins",title:"MDX Plugins",description:"What is the MDX plugins? Remark / Rehype plugin what are they and how are they different? How to create your own plugin?",source:"@site/docs/framework/docusaurus/4_markdown-features/7_mdx-plugins.mdx",sourceDirName:"framework/docusaurus/4_markdown-features",slug:"/framework/docusaurus/markdown-features/mdx-plugins",permalink:"/recaller/docs/framework/docusaurus/markdown-features/mdx-plugins",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/framework/docusaurus/4_markdown-features/7_mdx-plugins.mdx",tags:[{label:"docusaurus",permalink:"/recaller/docs/tags/docusaurus"}],version:"current",lastUpdatedAt:1759074662,formattedLastUpdatedAt:"Sep 28, 2025",sidebarPosition:8e3,frontMatter:{description:"What is the MDX plugins? Remark / Rehype plugin what are they and how are they different? How to create your own plugin?",sidebar_position:8e3,tags:["docusaurus"]},sidebar:"default",previous:{title:"Admonitions",permalink:"/recaller/docs/framework/docusaurus/markdown-features/admonitions"},next:{title:"Styling and Layout",permalink:"/recaller/docs/framework/docusaurus/styling-and-layout"}},l={},i=[{value:'<Color color="var(--not-require-but-good-to-know-font-color)"> Default plugins </Color>',id:"-default-plugins-",level:2},{value:"Installing plugins",id:"installing-plugins",level:2},{value:"Configuring plugins",id:"configuring-plugins",level:2},{value:'<Color color="var(--not-nesary-for-now-future-font-color)"> Creating new rehype/remark plugins </Color>',id:"-creating-new-rehyperemark-plugins-",level:2}],m=e=>function(a){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,s.kt)("div",a)},u=m("Color"),c=m("Admonition"),d=m("Tabs"),k=m("TabItem"),h={toc:i};function g(e){let{components:a,...t}=e;return(0,s.kt)("wrapper",(0,n.Z)({},h,t,{components:a,mdxType:"MDXLayout"}),(0,s.kt)("h1",{id:"mdx-plugins"},"MDX Plugins"),(0,s.kt)("p",null,"Sometimes, you may want to extend or tweak your Markdown syntax."),(0,s.kt)("p",null,"For example:"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"How do I embed youtube videos using the image syntax (",(0,s.kt)("inlineCode",{parentName:"li"},"![](https://youtu.be/yKNxeF4KMsY)"),")?"),(0,s.kt)("li",{parentName:"ul"},"How do I style links that are on their own lines differently, e.g., as a social card?"),(0,s.kt)("li",{parentName:"ul"},"How do I make every page start with a copyright notice?")),(0,s.kt)("p",null,"And the answer is: create an MDX plugin!"),(0,s.kt)("p",null,"MDX has a built-in ",(0,s.kt)("a",{parentName:"p",href:"https://mdxjs.com/advanced/plugins/"},"plugin system")," that can be used to customize how the Markdown files will be parsed and transformed to JSX."),(0,s.kt)("p",null,"There are three typical use-cases of MDX plugins:"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"Using existing ",(0,s.kt)("a",{parentName:"li",href:"https://github.com/remarkjs/remark/blob/main/doc/plugins.md#list-of-plugins"},"remark plugins")," or ",(0,s.kt)("a",{parentName:"li",href:"https://github.com/rehypejs/rehype/blob/main/doc/plugins.md#list-of-plugins"},"rehype plugins")),(0,s.kt)("li",{parentName:"ul"},"Creating remark/rehype plugins to ",(0,s.kt)(u,{color:"var(--secondary-font-color)",mdxType:"Color"}," transform the elements ")," generated by existing MDX syntax;"),(0,s.kt)("li",{parentName:"ul"},"Creating remark/rehype plugins to ",(0,s.kt)(u,{color:"var(--secondary-font-color)",mdxType:"Color"}," introduce new syntaxes ")," to MDX.")),(0,s.kt)("p",null,"If you play with the ",(0,s.kt)("a",{parentName:"p",href:"https://mdx-git-renovate-babel-monorepo-mdx.vercel.app/playground"},"MDX playground"),",\nyou would notice that the MDX transpilation has two intermediate steps: Markdown AST (MDAST), and Hypertext AST (HAST), before arriving at the final JSX output."),(0,s.kt)("p",null,"MDX plugins also come in two forms:"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"Remark: processes the Markdown AST."),(0,s.kt)("li",{parentName:"ul"},"Rehype: processes the Hypertext AST.")),(0,s.kt)(c,{type:"info",title:"info",mdxType:"Admonition"},(0,s.kt)("p",null,"Use plugins to introduce shorter syntax for the most commonly used JSX elements in your project."),(0,s.kt)("p",null,"The admonition syntax that we offer is also generated by a Remark plugin, and you could do the same for your own use case.")),(0,s.kt)("h2",{id:"-default-plugins-"},(0,s.kt)(u,{color:"var(--not-require-but-good-to-know-font-color)",mdxType:"Color"}," Default plugins ")),(0,s.kt)("p",null,"Docusaurus injects some default Remark plugins during Markdown processing."),(0,s.kt)("p",null,"These plugins would:"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"Generate the table of contents;"),(0,s.kt)("li",{parentName:"ul"},"Add anchor links to each heading;"),(0,s.kt)("li",{parentName:"ul"},"Transform images and links to require() calls."),(0,s.kt)("li",{parentName:"ul"},"...")),(0,s.kt)("h2",{id:"installing-plugins"},"Installing plugins"),(0,s.kt)("p",null,"An MDX plugin is usually an npm package, so you install them like other npm packages using npm."),(0,s.kt)("p",null,"Take the ",(0,s.kt)("a",{parentName:"p",href:"https://docusaurus.io/docs/markdown-features/math-equations"},"math plugins")," as an example."),(0,s.kt)(d,{mdxType:"Tabs"},(0,s.kt)(k,{value:"npm",label:"npm",mdxType:"TabItem"},(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-bash",metastring:"title=",title:""},"npm install --save remark-math@3 rehype-katex@4\n"))),(0,s.kt)(k,{value:"yarn",label:"yarn",mdxType:"TabItem"},(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-bash",metastring:"title=",title:""},"yarn add remark-math@3 rehype-katex@4\n")))),(0,s.kt)("details",null,(0,s.kt)("summary",null,"How are ",(0,s.kt)("code",null,"remark-math")," and ",(0,s.kt)("code",null,"rehype-katex")," different?"),(0,s.kt)("p",null,"In case you are wondering how Remark and Rehype are different, here is a good example."),(0,s.kt)("p",null,(0,s.kt)("inlineCode",{parentName:"p"},"remark-math")," operates on the Markdown AST, where it sees text like ",(0,s.kt)("inlineCode",{parentName:"p"},"$...$"),", and all it does is",(0,s.kt)(u,{color:"var(--secondary-font-color)",mdxType:"Color"}," transform that to the JSX ")," ",(0,s.kt)("inlineCode",{parentName:"p"},'<span class="math math-inline">...</span>')," without doing too much with the content.\nThis decouples the extraction of math formulae from their rendering, which means you can swap ",(0,s.kt)("span",{parentName:"p",className:"math math-inline"},(0,s.kt)("span",{parentName:"span",className:"katex"},(0,s.kt)("span",{parentName:"span",className:"katex-mathml"},(0,s.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,s.kt)("semantics",{parentName:"math"},(0,s.kt)("mrow",{parentName:"semantics"},(0,s.kt)("mtext",{parentName:"mrow"},"KaTeX")),(0,s.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\KaTeX")))),(0,s.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,s.kt)("span",{parentName:"span",className:"base"},(0,s.kt)("span",{parentName:"span",className:"strut",style:{height:"0.8988em",verticalAlign:"-0.2155em"}}),(0,s.kt)("span",{parentName:"span",className:"mord text"},(0,s.kt)("span",{parentName:"span",className:"mord textrm"},"K"),(0,s.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"-0.17em"}}),(0,s.kt)("span",{parentName:"span",className:"vlist-t"},(0,s.kt)("span",{parentName:"span",className:"vlist-r"},(0,s.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.6833em"}},(0,s.kt)("span",{parentName:"span",style:{top:"-2.905em"}},(0,s.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,s.kt)("span",{parentName:"span",className:"mord"},(0,s.kt)("span",{parentName:"span",className:"mord textrm mtight sizing reset-size6 size3"},"A")))))),(0,s.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"-0.15em"}}),(0,s.kt)("span",{parentName:"span",className:"mord text"},(0,s.kt)("span",{parentName:"span",className:"mord textrm"},"T"),(0,s.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"-0.1667em"}}),(0,s.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,s.kt)("span",{parentName:"span",className:"vlist-r"},(0,s.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.4678em"}},(0,s.kt)("span",{parentName:"span",style:{top:"-2.7845em"}},(0,s.kt)("span",{parentName:"span",className:"pstrut",style:{height:"3em"}}),(0,s.kt)("span",{parentName:"span",className:"mord"},(0,s.kt)("span",{parentName:"span",className:"mord textrm"},"E")))),(0,s.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,s.kt)("span",{parentName:"span",className:"vlist-r"},(0,s.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.2155em"}},(0,s.kt)("span",{parentName:"span"})))),(0,s.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"-0.125em"}}),(0,s.kt)("span",{parentName:"span",className:"mord textrm"},"X")))))))," out with other math renderers, like MathJax (with ",(0,s.kt)("a",{parentName:"p",href:"https://github.com/remarkjs/remark-math/tree/main/packages/rehype-mathjax"},(0,s.kt)("inlineCode",{parentName:"a"},"rehype-mathjax")),"), just by replacing the Rehype plugin."),(0,s.kt)("p",null,(0,s.kt)("inlineCode",{parentName:"p"},"rehype-katex")," operates on the Hypertext AST where everything ",(0,s.kt)(u,{color:"var(--secondary-font-color)",mdxType:"Color"}," has been converted ")," to ",(0,s.kt)(u,{color:"var(--secondary-font-color)",mdxType:"Color"}," HTML-like ")," tags ",(0,s.kt)(u,{color:"var(--primary-font-color)",mdxType:"Color"}," already "),".\nIt traverses all the elements with ",(0,s.kt)("inlineCode",{parentName:"p"},"math")," class and uses ",(0,s.kt)("span",{parentName:"p",className:"math math-inline"},(0,s.kt)("span",{parentName:"span",className:"katex"},(0,s.kt)("span",{parentName:"span",className:"katex-mathml"},(0,s.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,s.kt)("semantics",{parentName:"math"},(0,s.kt)("mrow",{parentName:"semantics"},(0,s.kt)("mtext",{parentName:"mrow"},"KaTeX")),(0,s.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\KaTeX")))),(0,s.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,s.kt)("span",{parentName:"span",className:"base"},(0,s.kt)("span",{parentName:"span",className:"strut",style:{height:"0.8988em",verticalAlign:"-0.2155em"}}),(0,s.kt)("span",{parentName:"span",className:"mord text"},(0,s.kt)("span",{parentName:"span",className:"mord textrm"},"K"),(0,s.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"-0.17em"}}),(0,s.kt)("span",{parentName:"span",className:"vlist-t"},(0,s.kt)("span",{parentName:"span",className:"vlist-r"},(0,s.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.6833em"}},(0,s.kt)("span",{parentName:"span",style:{top:"-2.905em"}},(0,s.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,s.kt)("span",{parentName:"span",className:"mord"},(0,s.kt)("span",{parentName:"span",className:"mord textrm mtight sizing reset-size6 size3"},"A")))))),(0,s.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"-0.15em"}}),(0,s.kt)("span",{parentName:"span",className:"mord text"},(0,s.kt)("span",{parentName:"span",className:"mord textrm"},"T"),(0,s.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"-0.1667em"}}),(0,s.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,s.kt)("span",{parentName:"span",className:"vlist-r"},(0,s.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.4678em"}},(0,s.kt)("span",{parentName:"span",style:{top:"-2.7845em"}},(0,s.kt)("span",{parentName:"span",className:"pstrut",style:{height:"3em"}}),(0,s.kt)("span",{parentName:"span",className:"mord"},(0,s.kt)("span",{parentName:"span",className:"mord textrm"},"E")))),(0,s.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,s.kt)("span",{parentName:"span",className:"vlist-r"},(0,s.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.2155em"}},(0,s.kt)("span",{parentName:"span"})))),(0,s.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"-0.125em"}}),(0,s.kt)("span",{parentName:"span",className:"mord textrm"},"X")))))))," to ",(0,s.kt)(u,{color:"var(--secondary-font-color)",mdxType:"Color"}," parse and render ")," the content to ",(0,s.kt)(u,{color:"var(--secondary-font-color)",mdxType:"Color"}," actual HTML "),".")),(0,s.kt)(c,{type:"caution",title:"caution",mdxType:"Admonition"},(0,s.kt)("p",null,"There's recently a trend in the Remark/Rehype ecosystem to migrate to ES Modules, a new JavaScript module system, which Docusaurus ",(0,s.kt)(u,{color:"var(--primary-font-color)",mdxType:"Color"}," doesn't support yet "),"."),(0,s.kt)("p",null,"Please make sure your installed plugin version is CommonJS-compatible before we officially support ESM.")),(0,s.kt)("p",null,"Next, add them to the plugin options through plugin or preset config in ",(0,s.kt)("inlineCode",{parentName:"p"},"docusaurus.config.js"),":"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-javascript",metastring:"title=docusaurus.config.js showLineNumbers",title:"docusaurus.config.js",showLineNumbers:!0},'const math = require("remark-math");\nconst katex = require("rehype-katex");\n\nmodule.exports = {\n  title: "Docusaurus",\n  tagline: "Build optimized websites quickly, focus on your content",\n  presets: [\n    [\n      "@docusaurus/preset-classic",\n      {\n        docs: {\n          // highlight-next-line\n          remarkPlugins: [math],\n          // highlight-next-line\n          rehypePlugins: [katex],\n        },\n      },\n    ],\n  ],\n};\n')),(0,s.kt)("h2",{id:"configuring-plugins"},"Configuring plugins"),(0,s.kt)("p",null,"Some plugins can be configured and accept their own options. In that case, use the ",(0,s.kt)("inlineCode",{parentName:"p"},"[plugin, pluginOptions]")," syntax, like this:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-javascript",metastring:"title=docusaurus.config.js showLineNumbers",title:"docusaurus.config.js",showLineNumbers:!0},'module.exports = {\n  presets: [\n    [\n      "@docusaurus/preset-classic",\n      {\n        docs: {\n          remarkPlugins: [math],\n          rehypePlugins: [[katex, { strict: false }]],\n        },\n      },\n    ],\n  ],\n};\n')),(0,s.kt)("p",null,"You should check your plugin's documentation for the options it supports."),(0,s.kt)("h2",{id:"-creating-new-rehyperemark-plugins-"},(0,s.kt)(u,{color:"var(--not-nesary-for-now-future-font-color)",mdxType:"Color"}," Creating new rehype/remark plugins ")),(0,s.kt)("p",null,(0,s.kt)("a",{parentName:"p",href:"https://docusaurus.io/docs/markdown-features/plugins#creating-new-rehyperemark-plugins"},"https://docusaurus.io/docs/markdown-features/plugins#creating-new-rehyperemark-plugins")),(0,s.kt)("br",null),(0,s.kt)("hr",null),(0,s.kt)("h1",{id:"sources"},"Sources"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("a",{parentName:"li",href:"https://docusaurus.io/docs/markdown-features/plugins"},"https://docusaurus.io/docs/markdown-features/plugins"))))}g.isMDXComponent=!0}}]);